/*
*   MENU
*/

.nav_form_wrapper {
    transition: all 0.6s cubic-bezier(0.6, 0, 0.1, 1);

    &.is-expanded {
        max-width: 50vw;
    }
}

.mobile-dropdown-menu.is-hidden {
    display: none !important;
}

.mobile-dropdown-menu {
    /* display: flex; */
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    max-height: 100vh;
    /* or adjust for a smaller height like 80vh */
}

.menu-icon2_line-top,
.menu-icon2_line-bottom,
.mobile-menu-button_text {
    transition: all .3s;
}

.navbar-menu-open {

    .navbar {
        background-color: var(--base-color-brand--eerie-black);
        border-color: var(--base-color-brand--eerie-black);
        border-radius: 2rem 2rem 0 0;
    }

    .nav_logo {
        color: #ffffff;
    }

    .menu-icon2_line-top {
        transform: rotate(45deg);
        top: 10px;
    }

    .menu-icon2_line-bottom {
        transform: rotate(-45deg);
        bottom: 12px;
    }

    @media screen and (max-width: 991px) {
        .menu-icon2_line-top {
            top: 4px;
        }

        .menu-icon2_line-bottom {
            bottom: 4px;
        }
    }


    .mobile-menu-button_text {
        transform: translateY(-1.5rem);
    }
}

/*
* ACCORDION
*/
[pb-accordion-element-menu="content"] {
  overflow: hidden;
  max-height: 0;
  opacity: 0;
  visibility: hidden;
  display: none;
  /* Faster transitions */
  transition: 
    max-height 0.2s cubic-bezier(0.4, 0, 0.2, 1),
    opacity 0.15s ease-out,
    visibility 0s linear 0.2s;
  /* Optimize rendering */
  will-change: max-height, opacity;
  transform: translate3d(0, 0, 0);
  backface-visibility: hidden;
}

[pb-accordion-element-menu="content"].is-active-accordion {
  display: block;
  visibility: visible;
  opacity: 1;
  transition: 
    max-height 0.2s cubic-bezier(0.4, 0, 0.2, 1),
    opacity 0.15s ease-out,
    visibility 0s linear 0s;
}

[pb-accordion-element-menu="arrow"] {
  transition: transform 0.15s ease-out;
  display: flex;
  align-items: center;
  justify-content: center;
  transform: translate3d(0, 0, 0);
}

[pb-accordion-element-menu="arrow"].is-active-accordion {
  transform: rotate(180deg) translate3d(0, 0, 0);
}

[pb-accordion-element-menu="trigger"]:focus {
  outline: 1px solid #fff;
  outline-offset: 2px;
  border-radius: 4px;
}

[pb-accordion-element-menu="trigger"]:focus:not(:focus-visible) {
  outline: none;
}

@media (prefers-reduced-motion: reduce) {
  [pb-accordion-elemen-menut="content"],
  [pb-accordion-element-menu="arrow"] {
    transition: none;
  }
}

.is-active-accordion {
    .accordion__item-header-2 {
        background: rgba(255, 255, 255, 0.08);
    }

    .accordion_title-2 {
        opacity: 1;
        color: var(--base-color-brand--persian-pink);
    }

    .arrow-icon {
        color: #ffffff;
    }
}